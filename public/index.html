<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Boda de Cris y Pablo - 20 de Junio de 2026">
  <title>Cris & Pablo | Nuestra Boda</title>
  
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>游</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,500&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/sidebar.css">
</head>
<body>
  <header class="header" id="header">
    <nav class="nav container">
      <a href="index.html" class="nav__logo">C & P</a>
      <div class="nav__menu" id="nav-menu">
        <ul class="nav__list">
          <li class="nav__item"><a href="index.html" class="nav__link active">Inicio</a></li>
          <li class="nav__item"><a href="confirmar.html" class="nav__link">Confirmar</a></li>
          <li class="nav__item"><a href="como-llegar.html" class="nav__link">C칩mo Llegar</a></li>
          <li class="nav__item"><a href="preboda.html" class="nav__link">Preboda</a></li>
          <li class="nav__item"><a href="regalos.html" class="nav__link">Lista de Bodas</a></li>
        </ul>
        <div class="nav__close" id="nav-close"><i class="fas fa-times"></i></div>
      </div>
      <div class="nav__toggle" id="nav-toggle"><i class="fas fa-bars"></i></div>
    </nav>
  </header>

  <main class="main">
    <section class="hero" id="inicio" style="background-image: url('images/Principal.jpeg');">
      <div class="hero__overlay"></div>
      <div class="hero__content">
        <p class="hero__subtitle anim-fade-down">Nos casamos</p>
        <h1 class="hero__title anim-fade-up">
          <span class="hero__name">Cris</span>
          <span class="hero__ampersand">&</span>
          <span class="hero__name">Pablo</span>
        </h1>
        <div class="hero__line anim-scale-x"></div>
        <p class="hero__date anim-fade-up">20 췅 06 췅 2026</p>
        
        <div class="countdown anim-fade-up" id="countdown">
          <div class="countdown__item">
            <span class="countdown__number" id="days">000</span>
            <span class="countdown__label">d칤as</span>
          </div>
          <span class="countdown__separator">:</span>
          <div class="countdown__item">
            <span class="countdown__number" id="hours">00</span>
            <span class="countdown__label">horas</span>
          </div>
          <span class="countdown__separator">:</span>
          <div class="countdown__item">
            <span class="countdown__number" id="minutes">00</span>
            <span class="countdown__label">min</span>
          </div>
          <span class="countdown__separator">:</span>
          <div class="countdown__item">
            <span class="countdown__number" id="seconds">00</span>
            <span class="countdown__label">seg</span>
          </div>
        </div>
        
        <a href="confirmar.html" class="hero__btn anim-fade-up">
          <span>Confirmar Asistencia</span>
          <i class="fas fa-arrow-right"></i>
        </a>
      </div>
      <a href="#historia" class="hero__scroll anim-bounce"><i class="fas fa-chevron-down"></i></a>
    </section>

    <section class="section historia" id="historia">
      <div class="container">
        <div class="historia__date-wrapper reveal">
          <div class="historia__date-line"></div>
          <time class="historia__date" datetime="2026-06-20">20 de Junio de 2026</time>
          <div class="historia__date-line"></div>
        </div>
        <div class="historia__content reveal">
          <p class="historia__text">
            Tras 3 preciosos a침os de noviazgo, Dios nos ha llamado con alegr칤a al matrimonio, que celebraremos el d칤a 20 de Junio en nuestra querida M치laga, ciudad para nosotros muy especial, donde esperamos con emoci칩n veros a todos y compartir juntos este momento tan maravilloso.
          </p>
          <p class="historia__closing">춰Os esperamos con mucha ilusi칩n!</p>
        </div>
      </div>
    </section>
    
    <!-- 3D Scroll Gallery Section -->
    <section class="gallery3d-section" id="gallery3d-container">
      <!-- Three.js canvas will be inserted here -->
      
      <!-- Scroll hint indicator -->
      <div class="gallery3d-scroll-hint" id="gallery-scroll-hint">
        <div class="gallery3d-scroll-hint__icon"></div>
        <span class="gallery3d-scroll-hint__text">Scroll</span>
      </div>
      
      <!-- End message - appears at end of parallax -->
      <div class="gallery3d-end-message" id="gallery-end-message">
        <h3 class="gallery3d-end-message__title">춰Esperamos verte!</h3>
        <p class="gallery3d-end-message__subtitle">Ser치 un d칤a muy especial</p>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer__content">
        <h3 class="footer__title">Cris & Pablo</h3>
        <time class="footer__date" datetime="2026-06-20">20 췅 06 췅 2026</time>
      </div>
    </div>
  </footer>

  <!-- Three.js Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <!-- 3D Gallery Script -->
  <script src="js/gallery3d.js"></script>
  <!-- Main Script -->
  <script src="js/script.js"></script>
  <script>
    // Variable para habilitar/deshabilitar la galer칤a 3D
    const ENABLE_3D_GALLERY = false;
    
    // Ocultar secci칩n de galer칤a inmediatamente si est치 deshabilitada
    if (!ENABLE_3D_GALLERY) {
      const style = document.createElement('style');
      style.textContent = '.gallery3d-section { display: none !important; min-height: 0 !important; height: 0 !important; padding: 0 !important; margin: 0 !important; }';
      document.head.appendChild(style);
    }
    
    // Initialize 3D Gallery after page loads
    document.addEventListener('DOMContentLoaded', () => {
      // Remover completamente la secci칩n de galer칤a si est치 deshabilitada
      const gallerySection = document.getElementById('gallery3d-container');
      if (gallerySection && !ENABLE_3D_GALLERY) {
        gallerySection.remove();
        return;
      }
      
      // Solo ejecutar lo siguiente si la galer칤a est치 habilitada
      if (ENABLE_3D_GALLERY) {
        if (typeof initGallery3D === 'function') {
          initGallery3D();
        }
        
        // Gallery scroll hint visibility
        const scrollHint = document.getElementById('gallery-scroll-hint');
        
        if (gallerySection && scrollHint) {
          const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                gallerySection.classList.add('in-view');
                scrollHint.classList.add('visible');
                
                // Hide after some scroll
                setTimeout(() => {
                  window.addEventListener('scroll', function hideHint() {
                    const rect = gallerySection.getBoundingClientRect();
                    if (rect.top < window.innerHeight * 0.3) {
                      scrollHint.classList.remove('visible');
                      window.removeEventListener('scroll', hideHint);
                    }
                  }, { passive: true });
                }, 500);
              } else {
                gallerySection.classList.remove('in-view');
                scrollHint.classList.remove('visible');
              }
            });
          }, { threshold: 0.1 });
          
          observer.observe(gallerySection);
        }
        
        // Gallery end message visibility
        const endMessage = document.getElementById('gallery-end-message');
        if (gallerySection && endMessage) {
          window.addEventListener('scroll', () => {
            const rect = gallerySection.getBoundingClientRect();
            const sectionHeight = gallerySection.offsetHeight;
            const scrolled = -rect.top;
            const progress = scrolled / (sectionHeight - window.innerHeight);
            
            // Show message when near the end (80%+) - stays visible once shown
            if (progress > 0.80) {
              endMessage.classList.add('visible');
            } else {
              endMessage.classList.remove('visible');
            }
          }, { passive: true });
        }
      }
    });
  </script>
</body>
</html>